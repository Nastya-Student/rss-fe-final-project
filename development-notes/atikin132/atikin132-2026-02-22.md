# Дата: 2026-02-22

  

## Что было сделано

Вчера в планах было уже сегодня начинать разработку доставшейся мне страницы. Но вчера перед сном решил, что наверное всё-таки лучше будет начать с роутинга. Так как я делал роутинг в Fun Chat, то предложил команде, что я могу сделать по аналогии из своего проекта. Но дело в том, что в Fun Chat, я делал роутинг с использованием классов, а команда решила не использовать классы. Но я всё равно предложил сделать свой вариант, или тогда заняться этим кому-нибудь ещё. В итоге команда согласилась на то, чтобы я занялся роутингом.

Изначально, когда работал над Fun Chat я сделал роутинг через History API. Но когда уже решил, что проект готов, и что можно заливать его на gh-pages, на gh-pages возникла проблема, что нельзя было поменять вручную URL и откроется нужная страница, да и в принципе работало как-то не очень, хотя локально всё работало отлично. Насколько я тогда понял, эта проблема связана с тем, что при переходе по этим ссылка gh-pages постоянно ищет index.html, но не может его найти и выдаёт 404 ошибку. Я немного расстроился, что ничего не работает, но не стал сдаваться, не зря же я тратил время на этот проект. Открыл чат RS School и нашел сообщение от Mik Aleinik (@mikaleinik), в котором он как раз и писал, что если использовать роутинг через `/` и History API, то будут проблемы с деплоем, а если через хеш `#`, то этих проблем уже не будет. Ну и в итоге пришлось менять роутинг на хеш. Поэтому сейчас я сразу использовал свой готовый хеш роутинг из Fun Chat. 

Сначала всё шло нормально, у меня в Fun Chat было только 3 страницы: login, main, about. А здесь нужно было расширить до 8 страниц: landing, login, register, dashboard, library, practice (practice/:topicId), profile и 404. Со страницами landing, login, register, dashboard, library, profile проблем не возникло, потому что это почти такие же страницы, по своей сути, как я делал в Fun Chat. 

Также чтобы проверить работоспособность получившегося роутинга, я добавил шаблоны для всех страниц с примерно одинаковым содержанием, например, вот шаблон страницы profile.
```typescript
export  class  ProfilePage  extends  BasePage {
	create(parent:  HTMLElement):  void {
		parent.append(this.container);
		this.container.classList.add("profile-page");
		
		const  pageTitle  =  new  HeadingsCreator(HEADINGS_TWO, {
		parent:  this.container,
		}).getElement();
		pageTitle.textContent  =  "Profile Page";
		
		const  button  =  new  ButtonCreator({
			text:  "To dashboard page",
			classes: ["button"],
			parent:  this.container,
		}).getElement();
		button.dataset.route  =  RoutePath.Dashboard;
	}
}
```
В итоге понажимал на кнопки переходов на всех страницах, вроде всё работает. 

Также у меня уже были готовы утилиты для созданиях большинства самых популярных элементов, которые я дополнял на протяжении всех проектов. Но написаны они были через классы и мне очень не хотелось тратить время и переписывать их через функции. В итоге вставил в проект свои готовые утилиты, и использовал их, к примеру, для создания кнопок и заголовков в шаблонах страниц. После того, как сделал [Pull request](https://github.com/Nastya-Student/rss-fe-final-project/pull/3), написал команде, что вставил свои утилиты и попытался объяснить, что ничего сложного в их использовании нет. В итоге договорились с командой, что если кто-то не разберется как их использовать, то я объясню.

## Проблемы

А вот для старниц 404 и practice нужно было добавить проверку на соответствие. 

  
## Решения (или попытки)

Попросил Chat GPT написать метод, который будет проверять путь, и в итоге он написал такой метод:
```typescript
private  matchRoute(path:  string):  RouteMatch  |  undefined {
	if (staticRoutes[path]) {
		return { page:  staticRoutes[path] };
	}
	const  practiceMatch  =  path.match(/^\/practice\/([^/]+)$/);

	if (practiceMatch) {
		const  topicId  =  practiceMatch[1];
		if (topicId  !==  undefined) {
			return { page:  "practice", params: { topicId },};
		}
	}
	
	return;
}

```

Затем я дописал в свой метод resolve() проверку через matchRoute()
```typescript
const  match  =  this.matchRoute(path);

if (!match) {
	this.app.navigate("404");
	return;
}
```
То есть если пользователь введет какой-то не подходящий URL, то откроется страница 404. 
И еще нужно было немного изменить метод navigate из класса App, чтобы он мог работать и для страницы practice, чтобы передавать туда какую конктретно тему открыл пользователь. И также в интерфейсе Screen пришлось добавить параметр, который он получает, только при открытии страницы practice.

  

## Мысли / Планы

В плах всё еще начать делать свою страницу dashboard.

  

### Затраченное время: 4 часа